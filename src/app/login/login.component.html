<div class="p-4 pr-4 max-w-screen-xl mx-auto transition-all">
    <p-toast></p-toast>
    
    <p-panel header="Login no Examinis">
      <div class="mb-3">
        <h2 class="text-base">Entre com suas credenciais para acessar o sistema</h2>
      </div>
      
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
        <!-- Email -->
        <div class="flex flex-col gap-2">
          <label for="email">Email*</label>
          <input 
            id="email" 
            type="email"
            pInputText 
            class="w-full"
            formControlName="email"
            placeholder="Seu email">
          <small *ngIf="isFieldInvalid('email')" class="p-error">
            {{ getErrorMessage('email') }}
          </small>
        </div>
        
        <!-- Senha -->
        <div class="flex flex-col gap-2">
          <label for="password">Senha*</label>
          <p-password 
            id="password" 
            formControlName="password"
            [feedback]="false"
            [toggleMask]="true"
            styleClass="w-full"
            inputStyleClass="w-full"
            placeholder="Sua senha">
          </p-password>
          <small *ngIf="isFieldInvalid('password')" class="p-error">
            {{ getErrorMessage('password') }}
          </small>
        </div>
        
        <!-- Botões de ação -->
        <div class="flex gap-4 mt-4">
          <p-button 
            type="submit" 
            [disabled]="loginForm.invalid || isSubmitting"
            label="Entrar" 
            class="w-full"
            styleClass="w-full">
          </p-button>
          
          <p-button 
            (click)="goToRegister()" 
            label="Criar conta" 
            severity="secondary" 
            class="w-full" 
            [outlined]="true"
            styleClass="w-full">
          </p-button>
        </div>
        
        <!-- Indicador de processamento -->
        <div *ngIf="isSubmitting" class="flex justify-content-center align-items-center mt-3">
          <p-progressSpinner [style]="{width: '30px', height: '30px'}" styleClass="mr-2" strokeWidth="4"></p-progressSpinner>
          <span>Autenticando...</span>
        </div>
      </form>
    </p-panel>
  </div>